.city-scene-container {
  width: 100%;
  height: 400px;
  perspective: 1000px;
  background: linear-gradient(to bottom, hsl(var(--primary) / 0.05) 0%, hsl(var(--background)) 100%);
  overflow: hidden;
  position: relative;
}

.city-scene {
  width: 300px;
  height: 300px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform-style: preserve-3d;
  transform: translateX(-50%) translateY(-20%) rotateX(60deg) rotateZ(45deg);
  animation: rotate-city 30s infinite linear;
}

@keyframes rotate-city {
  0% {
    transform: translateX(-50%) translateY(-20%) rotateX(60deg) rotateZ(45deg);
  }
  100% {
    transform: translateX(-50%) translateY(-20%) rotateX(60deg) rotateZ(405deg);
  }
}

.city-ground {
  position: absolute;
  width: 400px;
  height: 400px;
  background: linear-gradient(
    135deg,
    hsl(var(--muted)) 0%,
    hsl(var(--muted) / 0.5) 50%,
    hsl(var(--muted)) 100%
  );
  transform: rotateX(90deg) translateZ(-1px);
  left: -50px;
  top: -50px;
  border: 1px solid hsl(var(--border));
}

.city-building {
  position: absolute;
  width: 40px;
  transform-style: preserve-3d;
  animation: building-rise 0.8s ease-out;
  transition: all 0.3s ease;
}

@keyframes building-rise {
  from {
    transform: translateY(100%) translateZ(0);
    opacity: 0;
  }
  to {
    transform: translateY(0) translateZ(0);
    opacity: 1;
  }
}

.city-building:hover {
  transform: translateZ(10px) scale(1.05);
  filter: brightness(1.2);
}

.building-face {
  position: absolute;
  width: 40px;
  height: 100%;
  border: 1px solid hsl(var(--border) / 0.5);
  backdrop-filter: blur(10px);
}

.building-front {
  transform: translateZ(20px);
}

.building-left {
  transform: rotateY(-90deg) translateZ(20px);
}

.building-right {
  transform: rotateY(90deg) translateZ(20px);
}

.building-top {
  width: 40px;
  height: 40px;
  transform: rotateX(90deg) translateZ(0);
  top: 0;
}

.windows-grid {
  position: relative;
  width: 100%;
  height: 100%;
}

.window {
  position: absolute;
  width: 6px;
  height: 8px;
  background: hsl(var(--primary) / 0.6);
  border-radius: 1px;
  animation: window-flicker 3s infinite;
}

@keyframes window-flicker {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.3;
  }
}

.window:nth-child(3n) {
  animation-duration: 4s;
}

.window:nth-child(5n) {
  animation-duration: 2.5s;
}

@media (max-width: 768px) {
  .city-scene-container {
    height: 300px;
  }
  
  .city-scene {
    transform: translateX(-50%) translateY(-20%) rotateX(60deg) rotateZ(45deg) scale(0.7);
  }
}
